(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/AbandonedHouse.15803ea2.jpg"},20:function(e,t){e.exports="data:image/png;base64,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"},35:function(e,t,a){e.exports=a.p+"static/media/WinterRoad.28fcecf4.jpg"},36:function(e,t,a){e.exports=a.p+"static/media/Fire.f3ddead2.jpg"},37:function(e,t,a){e.exports=a.p+"static/media/Landscape.e0ac4c32.jpg"},38:function(e,t,a){e.exports=a.p+"static/media/PersonCloseToFire.c8ddde31.jpg"},39:function(e,t,a){e.exports=a.p+"static/media/Plants.b6ef2821.jpg"},40:function(e,t,a){e.exports=a.p+"static/media/WinterRoad.cab04278.jpg"},41:function(e,t,a){e.exports=a.p+"static/media/Fire.f7e49dd3.jpg"},42:function(e,t,a){e.exports=a.p+"static/media/AbandonedHouse.2b5249b2.jpg"},43:function(e,t,a){e.exports=a.p+"static/media/Landscape.95fa964c.jpg"},44:function(e,t,a){e.exports=a.p+"static/media/PersonCloseToFire.eb08bf15.jpg"},45:function(e,t,a){e.exports=a.p+"static/media/Plants.5c55f5d6.jpg"},46:function(e,t,a){e.exports=a.p+"static/media/iconNotFound.db1aa2c1.png"},47:function(e,t,a){e.exports=a(78)},52:function(e,t,a){},54:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),s=a.n(r),i=(a(52),a(6)),l=a.n(i),o=a(11),u=a(2);a(54),a(55);function m(e){var t=Object(n.useState)({name:"loading",main:{temp:0}}),a=Object(u.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)(function(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(e){fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.coords.latitude,"&lon=").concat(e.coords.longitude,"&appid=182687c0b69f8681a9c697a2ac368d68")).then(function(e){return e.json()}).then(function(e){s(e)})})},[]),c.a.createElement("div",{className:"header"},c.a.createElement("h1",null,"Welcome ",e.name),c.a.createElement("h2",null,"The current weather in ",r.name," is ",function(){var t=Math.round(10*(r.main.temp-273))/10;return"metric"===e.settings.units?t+" \xb0C":(9*t+160)/5+" \xb0F"}()))}var d=a(12),g=a(21);function p(e){var t=Object(n.useState)(),a=Object(u.a)(t,2)[1],r=Object(n.useCallback)(function(){return a({})},[]),s=function(){r()};return c.a.createElement(d.c,{render:function(t){var a=t.history;return c.a.createElement(g.b,{flipKey:e.quickAccessLinks.map(function(e){return e.name}).join(""),className:"main"},e.quickAccessLinks.map(function(t){return c.a.createElement(g.a,{flipId:t.name,key:t.name},c.a.createElement("a",{className:"quickAccessItem",onClick:function(e){"Add Link"===t.name&&a.push("/AddLink")},onContextMenu:function(n){"Add Link"!==t.name?function(t,a,n){t.preventDefault(),a.push("/EditQuickAccessItem"),n.reRender=s,e.asignSelectedQuickAccessItem(n)}(n,a,t):n.preventDefault()},href:t.url},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("img",{src:t.image,alt:"Image failed to load"})),c.a.createElement("li",null,c.a.createElement("span",null,t.name)))))}))}})}var f=a(3);function h(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],s=a[1],i=e.event;return r?c.a.createElement("div",{className:"event"},c.a.createElement("div",{onClick:function(){return s(!1)},className:"hamburgerMenu"},"X"),c.a.createElement("button",{className:"edit",onClick:function(){}},"Edit"),c.a.createElement("br",null),c.a.createElement("button",{className:"deleteEvent",onClick:function(){chrome.identity.getAuthToken({interactive:!1,scopes:["https://www.googleapis.com/auth/calendar"]},function(t){var a={method:"DELETE",async:!0,headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},contentType:"json"};fetch("https://www.googleapis.com/calendar/v3/calendars/"+i.organizer.email+"/events/"+i.id,a).then(function(e){return e.json()}).then(function(t){alert("Deleted the event"),e.events.splice(e.events.findIndex(function(e){return e==i}),1),e.UpdateApp()}).catch(function(e){alert("Didn't succefully save"),console.log(e)})})}},"Delete")):c.a.createElement("div",{className:"event"},c.a.createElement("div",{className:"hamburgerMenu",onClick:function(){return s(!0)}},c.a.createElement("div",{className:"bar1"}),c.a.createElement("div",{className:"bar2"}),c.a.createElement("div",{className:"bar3"})),c.a.createElement("span",{className:"name"},i.summary),c.a.createElement("br",null),c.a.createElement("span",{className:"date"},function(t){var a=new Date(t);return"automatic"===e.settings.dateFormat?a.toLocaleString(navigator.language):a.toLocaleString(e.settings.dateFormat)}(i.start.dateTime)),c.a.createElement("br",null),c.a.createElement("span",{className:"location"},function(e){if(!e)return"";var t=e.indexOf(",");return-1==t?e:e.substring(0,t)}(i.location)))}function E(e){var t=!1,a=Object(n.useState)([{summary:"Name",location:"Location",start:{dateTime:"2019-08-13T08:15:00+02:00"},end:{dateTime:"2019-08-13T12:30:00+02:00"},id:"loading"}]),r=Object(u.a)(a,2),s=r[0],i=r[1];return Object(n.useEffect)(function(){function a(){return(a=Object(o.a)(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:chrome.identity.getAuthToken({interactive:!1,scopes:["https://www.googleapis.com/auth/calendar"]},function(a){var n={method:"GET",async:!0,headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},contentType:"json"},c=[],r=[];0!==e.settings.calendar.calendarIDs.length&&(e.settings.calendar.calendarIDs.map(function(e){e.enabled&&(t=!0,r.push(fetch("https://www.googleapis.com/calendar/v3/calendars/".concat(e.id,"/events?maxResults=5&timeMin=").concat((new Date).toJSON()),n).then(function(e){return e.json()}).then(function(e){e.items.map(function(e){c.push(e)})})))}),Promise.all(r).then(function(){i(c)}))});case 1:case"end":return a.stop()}},a)}))).apply(this,arguments)}!function(){a.apply(this,arguments)}()},[e.settings]),t?c.a.createElement("div",{className:"calendar"},c.a.createElement("h1",null," ",c.a.createElement(f.a,{to:"/hideCalendar"}," Calendar\u25bc ")),"Please select the calendars you which to use in the setting to start to use the calendar."):c.a.createElement("div",{className:"calendar"},c.a.createElement("div",{className:"fadeOutOverlay"}),c.a.createElement("h1",null," ",c.a.createElement(f.a,{to:"/hideCalendar"}," Calendar\u25bc ")),c.a.createElement("div",{className:"events"}," ",s.map(function(t){return c.a.createElement(h,Object.assign({key:t.id},e,{event:t,events:s}))})),c.a.createElement("button",{onClick:function(){e.history.push("/AddEvent")}}," Add Event "))}function v(e){return e.tasks.map(function(t){return c.a.createElement("div",{className:"task",key:t.id},c.a.createElement("input",{className:"checkBox",id:t.id,type:"checkbox"}),c.a.createElement("label",{htmlFor:t.id,className:"checkLabel"},c.a.createElement("div",null)),c.a.createElement("div",{className:"lineThrough"}),c.a.createElement("span",null,t.title),c.a.createElement("div",{className:"delete",onClick:function(){return function(t){e.events.splice(e.events.findIndex(function(e){return e==t}),1),e.UpdateApp()}(t)}},"X"))})}function A(e){var t=!1,a=Object(n.useState)([{id:"1",title:"Name",hidden:!1,notes:void 0,due:"2019-07-26T00:00:00.000Z",parent:"The parents id"},{id:"2",title:"Name",hidden:!1,notes:void 0,due:"2019-07-26T00:00:00.000Z",parent:"The parents id"},{id:"2",title:"Name",hidden:!1,notes:void 0,due:"2019-07-26T00:00:00.000Z",parent:"The parents id"},{id:"2",title:"Name",hidden:!1,notes:void 0,due:"2019-07-26T00:00:00.000Z",parent:"The parents id"},{id:"2",title:"Name",hidden:!1,notes:void 0,due:"2019-07-26T00:00:00.000Z",parent:"The parents id"}]),r=Object(u.a)(a,2),s=r[0],i=r[1];return Object(n.useEffect)(function(){function a(){return(a=Object(o.a)(l.a.mark(function a(){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=[],chrome.identity.getAuthToken({interactive:!1,scopes:["https://www.googleapis.com/auth/tasks"]},function(a){var c={method:"GET",async:!0,headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},contentType:"json"};e.settings.ToDo.taskLists.map(function(e){e.enabled&&(t=!0,fetch("https://www.googleapis.com/tasks/v1/lists/"+e.id+"/tasks?showHidden=true",c).then(function(e){return e.json()}).then(function(e){e.map(function(e){n.push(e)})}))})}),i(n);case 3:case"end":return a.stop()}},a)}))).apply(this,arguments)}!function(){a.apply(this,arguments)}()},[]),t?c.a.createElement("div",{className:"tasks"},c.a.createElement("h1",null,c.a.createElement(f.a,{to:"/hideTasks"},"Tasks \u25bc")),"Please select the calendars you which to use in the setting to start to use the calendar."):c.a.createElement("div",{className:"toDo"},c.a.createElement("h1",null,c.a.createElement(f.a,{to:"/hideTasks"},"Tasks \u25bc")),c.a.createElement("div",{className:"tasks"},c.a.createElement(v,{tasks:s})),c.a.createElement("button",null,"Add Task"))}var k=a(15);function b(){return c.a.createElement("div",{className:"navbar"},c.a.createElement(f.b,{to:"/settings/customization",activeClassName:"active"},"Customization "),c.a.createElement(f.b,{to:"/settings/general",activeClassName:"active"},"General"),c.a.createElement(f.b,{to:"/settings/sidebar",activeClassName:"active"},"Sidebar"),c.a.createElement(f.b,{to:"/settings/other",activeClassName:"active"},"Other"))}var y=a(35),C=a.n(y),N=a(36),w=a.n(N),T=a(14),j=a.n(T),S=a(37),O=a.n(S),I=a(38),D=a.n(I),L=a(39),x=a.n(L),B=a(40),F=a.n(B),R=a(41),Y=a.n(R),z=a(42),J=a.n(z),M=a(43),Q=a.n(M),q=a(44),P=a.n(q),Z=a(45),U=a.n(Z);function K(e){return c.a.createElement("div",{className:"generalSettings"},"Units:",c.a.createElement("select",{defaultValue:e.settings.units,onChange:function(t){e.settings.units=t.currentTarget.value,e.updateApp()}},c.a.createElement("option",{value:"metric"},"Metric"),c.a.createElement("option",{value:"imperial"},"Imperial")),c.a.createElement("br",null),"Dateformat",c.a.createElement("select",{defaultValue:e.settings.dateFormat,onChange:function(t){e.settings.dateFormat=t.currentTarget.value}},c.a.createElement("option",{value:"automatic"},"Automatic"),c.a.createElement("option",{value:"sv"},"DMY"),c.a.createElement("option",{value:"en-US"},"MDY")))}function V(e){return e.collections.map(function(e){return c.a.createElement("div",{className:"select",key:e.id},c.a.createElement("input",{defaultChecked:e.enabled,id:e.id,className:"checkBox",type:"checkbox",onClick:function(){return function(e){e.enabled=!e.enabled}(e)}}),c.a.createElement("label",{htmlFor:e.id,className:"checkLabel"},c.a.createElement("span",null," ",e.name," "),c.a.createElement("div",null)))})}function X(e){var t=e.settings.calendar.calendarIDs,a=Object(n.useState)(),r=Object(u.a)(a,2)[1],s=Object(n.useCallback)(function(){return r({})},[]);return void 0===t[0]?c.a.createElement("div",{className:"calendarSettings"},c.a.createElement("button",{onClick:function(){chrome.identity.getAuthToken({interactive:!0,scopes:["https://www.googleapis.com/auth/calendar"]},function(t){var a=[];fetch("https://www.googleapis.com/calendar/v3/users/me/calendarList",{method:"GET",async:!0,headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},contentType:"json"}).then(function(e){return e.json()}).then(function(t){t.items.map(function(e){a.push({name:e.summary,id:e.id,enabled:!1})}),e.settings.calendar.calendarIDs=a,s()})})}},"Enable Google Calendar")):c.a.createElement("div",{className:"calendarSettings"},"Select the calendars that you want to include in the sidebar",c.a.createElement("div",{className:"options"},c.a.createElement(V,{collections:t,settings:e.settings})))}function G(e){var t=Object(n.useState)(e.settings.ToDo.taskLists),a=Object(u.a)(t,2),r=a[0],s=a[1];return void 0===r[0]?c.a.createElement("div",{className:"toDoSettings"},c.a.createElement("button",{onClick:function(){chrome.identity.getAuthToken({interactive:!0,scopes:["https://www.googleapis.com/auth/tasks"]},function(e){var t=[];fetch("https://www.googleapis.com/tasks/v1/users/@me/lists",{method:"GET",async:!0,headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.items.map(function(e){t.push({name:e.title,id:e.id,enabled:!1})}),s(t)})})}},"Enable Google Tasks")):c.a.createElement("div",{className:"toDoSettings"},"Select TaskLists that you want to include in the sidebar",c.a.createElement("div",{className:"options"},c.a.createElement(V,{collections:r})))}function H(e){return c.a.createElement("div",{className:"sidebarSettings"},c.a.createElement("div",{className:"calendarSettings"},c.a.createElement("h2",null,"Calendar"),c.a.createElement(X,{settings:e.settings})),c.a.createElement("div",{className:"toDoSettings"},c.a.createElement("h2",null,"ToDo"),c.a.createElement(G,{settings:e.settings})))}function W(e){var t=e.updateBackgroundImage,a=e.backgroundImage,n=e.updateApp,r=e.settings;function s(e){t(e)}function i(e){var t=e.currentTarget.files[0];if(t.type.match(/image.*/)){var c=new FileReader;c.onload=function(e){var t=c.result;Object(k.a)("backgroundImage"),a=t,n()},c.readAsDataURL(t)}else alert("File type not supported")}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"settings"},c.a.createElement("div",{className:"settingsReturn"},c.a.createElement(f.a,{to:"/"},"\u2190")),c.a.createElement("div",{className:"settingsHeader"},c.a.createElement("h1",null,"Settings")),c.a.createElement("div",{className:"settingsBody"},c.a.createElement(d.c,{path:"/settings/customization",exact:!0,render:function(){return c.a.createElement("div",{className:"customization"},c.a.createElement("h2",null,"Background image"),c.a.createElement("div",{className:"availableWallpapers"},c.a.createElement("img",{src:Y.a,onClick:function(){return s(w.a)}}),c.a.createElement("img",{src:F.a,onClick:function(){return s(C.a)}}),c.a.createElement("img",{src:J.a,onClick:function(){return s(j.a)}}),c.a.createElement("img",{src:Q.a,onClick:function(){return s(O.a)}}),c.a.createElement("img",{src:P.a,onClick:function(){return s(D.a)}}),c.a.createElement("img",{src:U.a,onClick:function(){return s(x.a)}})),c.a.createElement("div",{className:"submitBackgroundImage"},c.a.createElement("input",{name:"file",id:"file",className:"uploadFile",type:"file",onChange:i}),c.a.createElement("label",{htmlFor:"file",className:"uploadFileLabel"},"Use Local Image")))}}),c.a.createElement(d.c,{path:"/settings/general",exact:!0,render:function(){return c.a.createElement(K,e)}}),c.a.createElement(d.c,{path:"/settings/sidebar",exact:!0,render:function(e){return c.a.createElement(H,{settings:r})}})),c.a.createElement("div",{className:"saveSettings",onClick:function(){chrome.storage.local.set({backgroundImage:a}),chrome.storage.sync.set({settings:r},function(){alert("Save Successful")})}},"Save Settings"),c.a.createElement(b,null)))}function $(e){var t,a=Object(n.useState)(),r=Object(u.a)(a,2)[1],s=Object(n.useCallback)(function(){return r({})},[]),i=e.quickAccessLinks,l=e.syncQuickAccessLinks,o=e.selectedQuickAccessItem,m=i.findIndex(function(e){return e===o});function g(){var e=function(){var e;return l.map(function(t,a){t.url===o.url&&(e={value:t,index:a})}),console.log(e),e}(),a=JSON.parse(JSON.stringify(o));if(void 0===t){var n=e.value.image;a.image=n}else a.image=t;l[e.index]=a,chrome.storage.sync.set({quickAccessLinks:l},function(){return console.log("Sync successful")}),chrome.storage.local.set({quickAccessLinks:i},function(){return alert("Save Successful")}),chrome.storage.local.set({syncQuickAccessLinks:l})}function p(e){return e.substring(e.indexOf(".")+1)}function h(e,t){fetch(e,{method:"GET",mode:"cors",cache:"default"}).then(function(e){return e.blob()}).then(function(e){var a=new FileReader;a.onload=function(e){var n="data:image/png;base64,"+btoa(a.result);t(n)},a.readAsBinaryString(e)}).catch(function(e){alert("Getting the icon automaticlly was not successful")})}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"settings editQuickAccessItem",key:+new Date},c.a.createElement("div",{className:"settingsReturn"},c.a.createElement(f.a,{to:"/"},"\u2190")),c.a.createElement("div",{className:"settingsHeader"},c.a.createElement("h1",null,"Edit ",o.name)),c.a.createElement("div",{className:"settingsBody"},c.a.createElement("form",null,"Name: ",c.a.createElement("input",{placeholder:o.name,type:"text",onChange:function(e){o.name=e.currentTarget.value,o.reRender()}}),c.a.createElement("br",null),"Url: ",c.a.createElement("input",{placeholder:p(o.url),type:"text",onChange:function(e){o.url=function(e){var t=e.currentTarget.value;return"http://"===t.substring(0,6)||"https://"===t.substring(0,7)?t:"www."===t.substring(0,4)?"https://"+t:"https://www."+t}(e),o.reRender()}}),c.a.createElement("br",null),"Position: ",c.a.createElement("input",{placeholder:m+1,onBlur:function(e){var t,a;""!==e.currentTarget.value&&(t=m,(a=e.currentTarget.value)>t?(i.splice(a,0,o),i.splice(t,1)):(i.splice(t,1),i.splice(a-1,0,o)),s(),o.reRender())},type:"text"}),c.a.createElement("br",null),"Icon (Pick one):",c.a.createElement("br",null),c.a.createElement("input",{name:"file",id:"file",className:"uploadFile",type:"file",onChange:function(e){!function(e){var a=e.currentTarget.files[0];if(a.type.match(/image.*/)){var n=new FileReader;n.onload=function(e){var a=n.result;t="auto",o.image=a,o.reRender()},n.readAsDataURL(a)}else alert("File type not supported")}(e)}}),c.a.createElement("label",{htmlFor:"file",className:"uploadFileLabel"},"Upload Local Image"),c.a.createElement("br",null),c.a.createElement("span",{className:"ImageUrl"},"Image Url: ",c.a.createElement("input",{type:"text",placeholder:"Enter the image url for the image you want to use",onBlur:function(e){void 0!==e.currentTarget.value&&h(e.currentTarget.value,function(a){t=e.currentTarget.value,o.image=a,o.reRender()})}})),c.a.createElement("div",{id:"automaticIcon"},c.a.createElement("button",{onClick:function(e){h("https://api.faviconkit.com/".concat(p(o.url),"/64"),function(e){t="auto",o.image=e,o.reRender()})}},"Automatic Icon"),c.a.createElement("br",null)))),c.a.createElement(d.c,{exact:!0,path:"/EditQuickAccessItem",render:function(e){var t=e.history;return c.a.createElement("div",{className:"deleteItem saveSettings",onClick:function(){return function(e){e.push("/EditQuickAccessItem/Delete")}(t)}},"Delte Link")}}),c.a.createElement(d.c,{path:"/EditQuickAccessItem/Delete",render:function(e){var t=e.history;return c.a.createElement("div",{className:"deleteConfirm"},c.a.createElement("span",null,"Are you sure you want to delete this item permanently"),c.a.createElement("div",{className:"deleteOptions"},c.a.createElement("div",{className:"no",onClick:function(){t.push("/EditQuickAccessItem")}},"No"),c.a.createElement("div",{className:"yes",onClick:function(){return function(e){i.splice(m,1),g(),e.push("/")}(t)}},"Yes")))}}),c.a.createElement("div",{className:"saveSettings",onClick:g},"Save")))}function _(e){var t,a=e.quickAccessLinks,n=e.syncQuickAccessLinks,r={name:void 0,url:void 0,image:void 0,reRender:void 0},s=9;function i(){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m("https://api.faviconkit.com/"+(a=r.url).substring(a.indexOf(".")+1)+"/64",function(e){r.image=e,t="auto"});case 1:case"end":return e.stop()}var a},e)}))).apply(this,arguments)}function m(e,t){fetch(e,{method:"GET",mode:"cors",cache:"default"}).then(function(e){return e.blob()}).then(function(e){var a=new FileReader;a.onload=function(e){var n="data:image/png;base64,"+btoa(a.result);t(n)},a.readAsBinaryString(e)}).catch(function(e){alert("Getting the icon automaticlly was not successful")})}function d(){return(d=Object(o.a)(l.a.mark(function e(a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m(a,function(e){t=a,r.image=e});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}return c.a.createElement("div",{className:"settings editQuickAccessItem",key:+new Date},c.a.createElement("div",{className:"settingsReturn"},c.a.createElement(f.a,{to:"/"},"\u2190")),c.a.createElement("div",{className:"settingsHeader"},c.a.createElement("h1",null,"Create Quickaccess link")),c.a.createElement("div",{className:"settingsBody"},"Name: ",c.a.createElement("input",{placeholder:"Enter a name for the link",type:"text",onChange:function(e){return r.name=e.currentTarget.value}}),c.a.createElement("br",null),"Url: ",c.a.createElement("input",{placeholder:"Enter a url for the link",type:"text",onChange:function(e){void 0!==e.currentTarget.value&&(r.url=function(e){var t=e.currentTarget.value;return"http://"===t.substring(0,7)||"https://"===t.substring(0,7)?t:"www."===t.substring(0,4)?"https://"+t:"https://www."+t}(e))}}),c.a.createElement("br",null),"Position: ",c.a.createElement("input",{placeholder:"Enter the position for the item",onChange:function(e){return s=e.currentTarget.value},type:"text"}),c.a.createElement("br",null),"Icon (Pick one):",c.a.createElement("br",null),c.a.createElement("input",{name:"file",id:"file",className:"uploadFile",type:"file",onChange:function(e){return function(e){var a=e.currentTarget.files[0];if(a.type.match(/image.*/)){var n=new FileReader;n.onload=function(e){t="auto",r.image=n.result},n.readAsDataURL(a)}else alert("File type not supported")}(e)}}),c.a.createElement("label",{htmlFor:"file",className:"uploadFileLabel"},"Upload Local Image"),c.a.createElement("br",null),c.a.createElement("span",{className:"ImageUrl"},"Image Url: ",c.a.createElement("input",{type:"text",placeholder:"Enter the image url for the image you want to use",onChange:function(e){return function(e){return d.apply(this,arguments)}(e.currentTarget.value)}})),c.a.createElement("button",{onClick:i},"Automatic Icon")),c.a.createElement("div",{className:"saveSettings",onClick:function(){if(-1!==a.findIndex(function(e){return e.url===r.url}))alert("You can not have two links with the same name");else{if(void 0===r.image&&i(),s>a.length-2&&(s=a.length-1),void 0===s&&(s=1),void 0===r.name||void 0===r.url)return void alert("You need to specify url and name");var c=JSON.parse(JSON.stringify(r));c.image=t,a.splice(s,0,r),n.splice(s,0,c),console.log("deep copy",c),console.log("sync",n),chrome.storage.sync.set({quickAccessLinks:n},function(){return console.log("Successfully uploaded sync")}),chrome.storage.local.set({quickAccessLinks:a},function(){return console.log("Successfully saved")}),chrome.storage.local.set({syncQuickAccessLinks:n},function(){return console.log("Successfully saved sync")}),e.updateApp()}}},"Add and Save"))}var ee=a(5),te=a.n(ee);function ae(e){var t=te.a.weekdaysShort(),a=Object(n.useState)(new Date),r=Object(u.a)(a,2),s=r[0],i=r[1],l=[],o=[];function m(e){var t=document.getElementsByClassName("clicked");void 0!=t[0]&&t[0].classList.remove("clicked")}return function(){var e=te()(s).daysInMonth(),t=te()(s).startOf("month").format("d");l=[],o=[];for(var a=0;a<t;a++)o.push("");for(var n=1;n<=e;n++)o.push(n),"Saturday"===te()(s.getFullYear()+"-"+(s.getMonth()+1)+"-"+n,"YYYY-MM-DD HH:mm:ss").format("dddd")?(l.push(o),o=[]):n===e&&l.push(o)}(),c.a.createElement("div",{className:"pickDate"},c.a.createElement("div",{id:"dateHeader"},c.a.createElement("button",{onClick:function(){m(),i(new Date(s.setMonth(s.getMonth()-1)))}}," ","<","  "),c.a.createElement("span",{id:"month"},te()(s).format("MMMM")),c.a.createElement("span",{id:"year"},te()(s).format("YYYY")),c.a.createElement("button",{onClick:function(){m(),i(new Date(s.setMonth(s.getMonth()+1)))}},">")),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,t.map(function(e){return c.a.createElement("th",null,e)})),l.map(function(t){return c.a.createElement("tr",null,t.map(function(t,a){return c.a.createElement("td",{style:6===a?{color:"red"}:{},className:""===t?"empty":"day",onClick:function(a){""!==t&&(m(),a.currentTarget.classList.add("clicked"),s.setDate(t),e.onChange(s))}},t)}))}))))}function ne(e){var t=Object(n.useState)({summary:void 0,end:{date:void 0},start:{date:void 0}}),a=Object(u.a)(t,1)[0],r=Object(n.useState)(!1),s=Object(u.a)(r,2),i=s[0],l=(s[1],e.settings.calendar.calendarIDs[0].id);return c.a.createElement("div",{className:"settings addEvent",key:+new Date},c.a.createElement("div",{className:"settingsReturn"},c.a.createElement(f.a,{to:"/"},"\u2190")),c.a.createElement("div",{className:"settingsHeader"},c.a.createElement("h1",null,"Add Event")),c.a.createElement("div",{className:"settingsBody"},"Name: ",c.a.createElement("input",{type:"text",onChange:function(e){return a.summary=e.currentTarget.value}}),c.a.createElement("br",null),c.a.createElement("span",null,"Date:"),c.a.createElement(ae,{onChange:function(e){if(i)if(a.start.date){var t=a.start.date.getHours(),n=a.start.date.getMinutes();a.start.date=e,a.start.date.setHours(t),a.start.date.setMinutes(n),a.end.date=e,a.end.date.setHours(t),a.end.date.setMinutes(n)}else a.start.date=e,a.end.date=e;else a.start.date=e,a.end.date=e}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("span",null,"Which calendar do you want to use"),c.a.createElement("select",null,e.settings.calendar.calendarIDs.map(function(e){return c.a.createElement("option",{onClick:function(e){return Object(k.a)("calendarID"),l=e.currentTarget.value},value:e.id},e.name)}))),c.a.createElement("div",{className:"saveSettings",onClick:function(){a.summary&&a.end.date&&a.start.date?(i?(a.start.date=a.start.date.toJSON(),a.end.date=a.end.date.toJSON()):(a.start.date=te()(a.start.date).format("YYYY-MM-DD"),a.end.date.setDate(a.end.date.getDate()+1),a.end.date=te()(a.end.date).format("YYYY-MM-DD")),chrome.identity.getAuthToken({interactive:!1,scopes:["https://www.googleapis.com/auth/calendar"]},function(e){var t={method:"POST",async:!0,headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"},body:JSON.stringify(a),contentType:"json"};fetch("https://www.googleapis.com/calendar/v3/calendars/"+l+"/events",t).then(function(e){return e.json()}).then(function(e){alert("Event added")}).catch(function(e){alert("Couldn't add evet, try again later")})})):alert("Please enter all values before submitting")}},"Add Event"))}function ce(e){var t=e.settings,a=Object(n.useState)(0),r=Object(u.a)(a,2);r[0],r[1];return c.a.createElement("div",{className:"sideBar"},c.a.createElement(d.c,{path:"/",exact:!0,render:function(a){var n=a.history;return c.a.createElement(c.a.Fragment,null,c.a.createElement(E,Object.assign({},e,{history:n})),c.a.createElement(A,{settings:t}),c.a.createElement(f.a,{to:"/settings/customization",className:"settingsButton"},"\u2699"))}}),c.a.createElement(d.c,{path:"/hideCalendar",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,c.a.createElement(f.a,{to:"/"},"Calendar \u25b2")),c.a.createElement(A,{settings:t}),c.a.createElement(f.a,{to:"/settings/customization",className:"settingsButton"},"\u2699"))}}),c.a.createElement(d.c,{path:"/hideTasks",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(E,{settings:t}),c.a.createElement("h1",null,c.a.createElement(f.a,{to:"/"},"Tasks \u25b2")),c.a.createElement(f.a,{to:"/settings/customization",className:"settingsButton"},"\u2699"))}}),c.a.createElement(d.c,{path:"/CalendarFullScreen",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(E,{settings:t}),c.a.createElement("h1",null,c.a.createElement(f.a,{to:"/"},"Tasks \u25b2")),c.a.createElement(f.a,{to:"/settings/customization",className:"settingsButton"},"\u2699"))}}),c.a.createElement(d.c,{path:"/settings",render:function(){return c.a.createElement(W,e)}}),c.a.createElement(d.c,{path:"/EditQuickAccessItem",render:function(){return c.a.createElement($,e)}}),c.a.createElement(d.c,{path:"/AddLink",render:function(){return c.a.createElement(_,e)}}),c.a.createElement(d.c,{path:"/AddEvent",render:function(){return c.a.createElement(ne,e)}}),c.a.createElement(d.b,{to:t.defaultRoute}))}var re=a(20),se=a.n(re),ie=a(46),le=a.n(ie);s.a.render(c.a.createElement(function(){var e=Object(n.useState)(),t=Object(u.a)(e,2)[1],a=Object(n.useCallback)(function(){return t({})},[]),r=Object(n.useState)({}),s=Object(u.a)(r,2),i=s[0],g=s[1],f=Object(n.useState)(j.a),h=Object(u.a)(f,2),E=h[0],v=h[1],A=Object(n.useState)({ToDo:{taskLists:[]},calendar:{calendarIDs:[]},backgroundImage:j.a,defaultRoute:"/settings/customization",dateFormat:"automatic",units:"metric",location:{auto:!0,city:void 0,lat:void 0,lon:void 0}}),k=Object(u.a)(A,2),b=k[0],y=k[1];function C(){a()}var N=Object(n.useState)([{name:"Add Link",url:"#",image:se.a,reRender:void 0}]),w=Object(u.a)(N,2),T=w[0],S=w[1],O=Object(n.useState)([{name:"Add Link",url:"#",image:se.a,reRender:void 0}]),I=Object(u.a)(O,2),D=I[0],L=I[1];function x(e){return new Promise(function(t){fetch(e,{method:"GET",mode:"cors",cache:"default"}).then(function(e){return e.blob()}).then(function(e){var a=new FileReader;a.onload=function(e){var n="data:image/png;base64,"+btoa(a.result);t(n)},a.readAsBinaryString(e)}).catch(function(){var e=Object(o.a)(l.a.mark(function e(a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(le.a),console.log("Getting the icon automaticlly was not successful");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())})}return Object(n.useEffect)(function(){chrome.storage.local.get("backgroundImage",function(e){void 0!==e.backgroundImage&&v(e.backgroundImage)}),chrome.storage.sync.get("settings",function(e){void 0!==e.settings&&chrome.storage.local.get("backgroundImage",function(t){void 0!==t.backgroundImage&&(e.backgroundImage=t.backgroundImage),y(e.settings)})}),chrome.storage.sync.get("quickAccessLinks",function(e){console.log(e),void 0!==e.quickAccessLinks&&chrome.storage.local.get(["quickAccessLinks","syncQuickAccessLinks"],function(t){console.log(t),function(e,t,a){if(JSON.stringify(e)!==JSON.stringify(t)){console.log("syncing"),console.log(e),console.log(t),L(JSON.parse(JSON.stringify(e)));var n=[];e.map(function(e,t){if("auto"==e.image){var a=x("https://api.faviconkit.com/".concat((r=e.url).substring(r.indexOf(".")+1),"/64"));n.push(a),a.then(function(t){e.image=t})}else{var c=x(e.image);n.push(c),c.then(function(t){e.image=t})}var r}),Promise.all(n).then(function(){console.log("SAVING!!"),console.log("SaveLocal"),chrome.storage.local.set({quickAccessLinks:T}),chrome.storage.local.set({syncQuickAccessLinks:D}),S(e)})}else S(a),L(t)}(e.quickAccessLinks,t.syncQuickAccessLinks,t.quickAccessLinks)})})},[]),document.querySelector("html").style.backgroundImage="url("+E+")",c.a.createElement(d.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(m,{name:"Hugo Persson",settings:b}),c.a.createElement(p,{quickAccessLinks:T,updateApp:C,settings:b,selectedQuickAccessItem:i,asignSelectedQuickAccessItem:function(e){return g(e)}}),c.a.createElement(ce,{backgroundImage:E,updateBackgroundImage:function(e){return v(e)},syncQuickAccessLinks:D,settings:b,updateApp:C,quickAccessLinks:T,selectedQuickAccessItem:i})))},null),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.c88349e8.chunk.js.map